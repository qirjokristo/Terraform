
  resource "aws_launch_template" "kristo" {
  name = "kristo-asg"
  iam_instance_profile {
    name = aws_iam_role.kristo.name
  }
  image_id               = data.aws_ami.ubuntu2004
  instance_type          = "t3.micro"
  vpc_security_group_ids = aws_security_group.ec2_sg.id
}


resource "aws_autoscaling_group" "name" {
  name = "kristo_asg"
  min_size = 1
  max_size = length(data.available)
}